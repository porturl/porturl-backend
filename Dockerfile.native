# Minimal Dockerfile for pre-built native executable
# Use this when the native executable is built in CI/CD

FROM gcr.io/distroless/base-debian12:nonroot

# Copy the pre-built native executable
COPY build/native/nativeCompile/porturl-backend /app

# Expose port
EXPOSE 80

# Set user to non-root for security
USER nonroot:nonroot

# Run the native executable
ENTRYPOINT ["/app"]
